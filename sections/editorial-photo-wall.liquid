{% comment %} Editorial Photo Wall {% endcomment %}
<section id="section-{{ section.id }}"
  class="editorial-photo-wall section section--page-width spacing-style"
  style="
    --gap: {{ section.settings.gap }}px;
    --pad: {{ section.settings.padding }}px;
  ">
  <div class="page-width photo-grid">
    {%- for block in section.blocks -%}
      <figure class="photo-item" {{ block.shopify_attributes }}>
        {%- if block.settings.link != blank -%}
          <a href="{{ block.settings.link }}">
        {%- endif -%}
            {%- if block.settings.image != blank -%}
              {{ block.settings.image | image_url: width: 900 | image_tag:
                  loading: 'lazy',
                  sizes: '(min-width: 768px) 50vw, 100vw',
                  widths: '400,600,800,900',
                  alt: block.settings.alt | escape
              }}
            {%- else -%}
              {{ 'image' | placeholder_svg_tag: 'placeholder' }}
            {%- endif -%}
        {%- if block.settings.link != blank -%}</a>{%- endif -%}
      </figure>
    {%- endfor -%}
  </div>
</section>

{{ 'editorial-photo-wall.css' | asset_url | stylesheet_tag }}

{% schema %}
{
  "name": "Editorial Photo Wall",
  "tag": "section",
  "settings": [
    {
      "type": "range",
      "id": "gap",
      "label": "Grid gap (px)",
      "min": 0,
      "max": 80,
      "step": 4,
      "default": 24
    },
    {
      "type": "range",
      "id": "padding",
      "label": "Vertical padding (px)",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "image_card",
      "name": "Image",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "alt", "label": "Alt text" },
        { "type": "url", "id": "link", "label": "Optional link" }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    { "name": "Editorial Photo Wall" }
  ]
}
{% endschema %}
